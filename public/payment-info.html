<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Information - x402 Video Paywall</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .info-card {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem auto;
      max-width: 800px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .info-item {
      margin: 1.5rem 0;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #007bff;
    }
    .info-label {
      font-weight: bold;
      color: #495057;
      margin-bottom: 0.5rem;
      display: block;
    }
    .info-value {
      color: #212529;
      word-break: break-all;
      font-family: monospace;
    }
    .explorer-link {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      background: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      transition: background 0.3s;
    }
    .explorer-link:hover {
      background: #0056b3;
    }
    .warning {
      background: #fff3cd;
      border-left-color: #ffc107;
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ’° ThÃ´ng Tin Thanh ToÃ¡n</h1>
    <p>Xem Ä‘á»‹a chá»‰ vÃ­ nháº­n thanh toÃ¡n vÃ  theo dÃµi giao dá»‹ch</p>
  </header>

  <div class="info-card">
    <h2>ğŸ“ Äá»‹a Chá»‰ VÃ­ Nháº­n Thanh ToÃ¡n</h2>
    
    <div class="info-item">
      <span class="info-label">Äá»‹a chá»‰ vÃ­:</span>
      <span class="info-value" id="walletAddress">Äang táº£i...</span>
      <button class="copy-btn" data-copy-target="walletAddress" style="margin-top: 0.5rem;">ğŸ“‹ Copy</button>
    </div>

    <div class="info-item">
      <span class="info-label">Network:</span>
      <span class="info-value" id="network">Äang táº£i...</span>
    </div>

    <div class="info-item">
      <span class="info-label">GiÃ¡:</span>
      <span class="info-value" id="price">Äang táº£i...</span>
    </div>

    <div class="info-item">
      <span class="info-label">Facilitator:</span>
      <span class="info-value" id="facilitatorUrl">Äang táº£i...</span>
    </div>

    <div class="info-item">
      <span class="info-label">Blockchain Explorer:</span>
      <a href="#" id="explorerLink" class="explorer-link" target="_blank">ğŸ” Xem trÃªn BaseScan</a>
    </div>

    <div class="warning">
      <strong>âš ï¸ LÆ°u Ã½:</strong> Táº¥t cáº£ cÃ¡c thanh toÃ¡n sáº½ Ä‘Æ°á»£c gá»­i trá»±c tiáº¿p Ä‘áº¿n Ä‘á»‹a chá»‰ vÃ­ trÃªn. 
      Báº¡n cÃ³ thá»ƒ theo dÃµi táº¥t cáº£ cÃ¡c giao dá»‹ch trÃªn BaseScan báº±ng cÃ¡ch click vÃ o link phÃ­a trÃªn.
    </div>
  </div>

  <div class="card" style="max-width: 800px; margin: 2rem auto;">
    <h3>ğŸ” CÃ¡ch Theo DÃµi Giao Dá»‹ch</h3>
    <ol>
      <li>Click vÃ o link "Xem trÃªn BaseScan" phÃ­a trÃªn</li>
      <li>TrÃªn BaseScan, báº¡n sáº½ tháº¥y:
        <ul>
          <li>Táº¥t cáº£ cÃ¡c giao dá»‹ch Ä‘áº¿n Ä‘á»‹a chá»‰ vÃ­ nÃ y</li>
          <li>Sá»‘ dÆ° USDC hiá»‡n táº¡i</li>
          <li>Chi tiáº¿t tá»«ng transaction (sender, amount, timestamp)</li>
        </ul>
      </li>
      <li>Äá»ƒ xem chi tiáº¿t má»™t transaction cá»¥ thá»ƒ:
        <ul>
          <li>Click vÃ o transaction hash</li>
          <li>Xem thÃ´ng tin: tá»« Ä‘á»‹a chá»‰ nÃ o, sá»‘ tiá»n, gas fee, timestamp</li>
        </ul>
      </li>
    </ol>
  </div>

  <div class="card" style="max-width: 800px; margin: 2rem auto; text-align: center;">
    <a href="/" class="cta-button">â† Quay láº¡i Trang Chá»§</a>
  </div>

  <script src="main.js"></script>
  <script>
    // Load payment info from API
    async function loadPaymentInfo() {
      try {
        const response = await fetch('/api/payment-info');
        const data = await response.json();
        
        document.getElementById('walletAddress').textContent = data.walletAddress || 'ChÆ°a cáº¥u hÃ¬nh';
        document.getElementById('network').textContent = data.network || 'base-sepolia';
        document.getElementById('price').textContent = data.price || '$0.10';
        document.getElementById('facilitatorUrl').textContent = data.facilitatorUrl || 'N/A';
        
        if (data.explorerUrl) {
          document.getElementById('explorerLink').href = data.explorerUrl;
        }
      } catch (error) {
        console.error('Error loading payment info:', error);
        document.getElementById('walletAddress').textContent = 'Lá»—i khi táº£i thÃ´ng tin';
      }
    }

    // Load on page load
    loadPaymentInfo();
  </script>
</body>
</html>

